consultar FAQs servicios AWS

Continuar pregunta 40

Servicios AWS
    - AWS SAR (Serverless Application Repository)
        Repositorio de aplicaciones sin servidor reutilizables. Configuración por variables. Aplicación solo.
    
    - AWS SAM (Serverless Application Model)
        Permite gestionar los recursos con CloudFormation y en la implementación serán desplegados. Usa plantillas SAM. Infrastructura para nuestra aplicación.
    
    - AWS Marketplace
        Tienda online de software
    
    - AWS AppSync. 
        Creación de API con GraphQL y varias fuentes de datos como bases de datos, microservicios u otras apis(Tiempo real)
    
    - AWS Service Catalog
        Permite a las organizaciones crear y administrar catálogos de servicios IT para luego usar en AWS.
    
    - NACL: NACLs are stateless, which means that information about previously sent or received traffic is not saved. If, for example, you create a NACL rule to allow specific inbound traffic to a subnet, responses to that traffic are not automatically allowed. 
    
    - AWS S3:
        Para acceder a recursos desde otro dominio es necesario configurar CORS. Para fichero mayores de 100 MB se recomienda usar carga multiparte. También existe S3 Transfer Acceleration que se apoya en CloudFront y EdgeLocations para enviar el tráfico a S3.
        
    - AWS ECS
        Configuración de propiedades del Cluster mediante el fichero /etc/ecs/ecs.config, sobre todo si queremos registrar un cluster con un nombre diferencia al ya existente.
    
    - AWS VPC
        Permiten la creación de endpoints para conectar VPC privadas a servicios. Uso de AWS PrivateLink. Existen dos tipos de endpoints, de interfaz y de Gateway. De interfaz es una ENI (Elastic Network Interface) que teine una dirección IP privada dentro del rango de la subred y se usa como entrada. De Gateway es un gateway a los servicios S3, DynamoDb.
        Para dar acceso a internet, es necesario que una subred pública disponga de Gateway NAT o instancia NAT.
    
    - AWS DynamoDB
        No soporta los endpoints de interfaz de VPC.
        
    - AWS API Gateway
        Construido con endpoints de API. Permite la configuración de CORS para limitar quien puede acceder a los recursos. Permite estrangulación de peticiones, por defecto 10.000 por segundo. No usa grupos de seguridad, usa política para ver que recursos pueden invocarla (por norma general, usuarios).
        Existen varios tipos de integraciones, MOCK (respuesta preconfigurada), AWS_PROXY (para comunicar directamente el cliente y la function Lambda), HTTP_PROXY (Permite acceder directamente a los endpoints HTTP de un backend), HTTP (integración básica con un backend), AWS (expone servicios de AWS)
        Permite crear API de Websocket.
        Existen varios tipos de API que podemos crear, WebSocket (comunicación bidireaccional), REST (se compone de recursos y métodos, rútas con una jerarquía), HTTP (permite crear API RESTful con menor latencia y menos coste que REST)
        Se debe de elegir en que etapa desplegar. Podemos elegir una etapa a la que atacar usando la varialble de etapa.
        
    - AWS CloudWatch
        - AWS CloudWatch Logs Insights. Permite buscar y analizar logs en CloudWatch Logs.
        Permite la ingesta de métricas personalizadas. Cada métrica puede ser de Resolución estandar (granularidad de un minuto) o de Alta resolución (granularidad de un segundo). Los servicios de AWS usan la estandar por defecto.
        Las de alta resolución se pueden leer y recuperar cada 1, 5, 10, 30 segundos o en múltiplos de 60 segundos. La creación de un métrica personalizada se ahce con el método del API PutMetricData. Las alarmas se puede crear por métrica o compuestas.
        Existen dos tipos de monitorización, básica (publicación cada 5 minutos) y detallada (publicación cada minuto).
        Permite integración con S3, entre otros servicios.
    
    - AWS SSM Parameter Store (Systems Manager Parameter Store)
        Utiliza AWS KMS para los secure strings. 
        Almacena pares de clave valor para usar en las aplicaciones de AWS.
        
    - AWS CloudTrail
        Auditoría del uso de los servicios. Proporciona un historia de eventos de la cuenta de AWS. Permite ver las llamadas que se realicen a SSM y KMS.
    
    - AWS CodeDeploy
        Permite varias formas de desplegar. In situ (detiene, actualiza e inicia aplicación de cada instancia del grupo de despliegue, permite configurar el ELB para desconectar instancias). Blue/Green (despliegue usando un nuevo AutoScaling Group).
        Permite integración con AWS EC2, Fargate, Lambda y servidores propios on-premise.

    - AWS CodeBuild
        Compilación usando el fichero buildspec.yml. Para cifrar, indicamos que clave KMS usar (CODEBUILD_KMS_KEY_ID, clave CMKs, por defecto la de Amazon S3).
    
    - AWS CloudFront
        Servir contenido estático y dinámico con varios orígenes (como S3). Usa Edge Locations para acercar el contenido. Permite configuración HTTPs entre el cliente y CloudFront y entre este y el backend (origen personalizado).
    
    - AWS Lambda
        Lambda@Edge es para acercar la computación al usuario, más proceso que servir datos. Para aumentar la capacidad de procesamiento, se incrementa la RAM.
        Existe la concurrencia reservada y provisionada. La reservada indica el número máximo de instancias que se ejecutan de una función. La provisionada tiene siempre lista N instancias para responder a las necesidades de carga.
        
    - AWS Global Accelerator
        Mejora el tráfico de red usando IP públicas. Usado principalmente para comunicación de red, UDP, MQTT o VoIP
        
    - AWS EFS
        Almacenamiento compartido entre máquinas EC2. Con Standard-IA (infrecuent access) se gestionan los ficheros con pocos accesos y se ahorra. Se diferencia de S3 en que S3 almacena objetos y EFS almacenamiento de archivos.
        El almacenamiento Standard es para archivos que se acceden con frecuencia. La capacidad de almacenamiento es elástica. Se soportan para tareas alojadas en AWS Fargate, ECS o EC2. Para ECS es necesario configurar la AMI para que monte el sistema de archivos antes de iniciar el daemon de Docker.
        Los montajes Bind son para almacenamiento temporal.
        
    - AWS EBS
        Almacenamiento a nivel de bloque, para acceder desde una única instancia EC2
        
    - AWS Step Functions.
        Una unidad de trabajo es un Task realizado en una máquina de estados que es en lo que se basa este servicio. Para tareas de tipo Task, resource es obligatorio. Tipo Pass es para no hacer nada. Tipo Fail para redirigir errores. Para fallar controladamente se puede definir un catch.
        Existen distinto estados del flujo, Task (indicar Resource), Choice (para condionales, indicar mínimo una), Parallel para proceso en paralelo (división por ramas, obligatorio Branches), Map para ejecutar un conjunto de steps para cada elemento del map de forma paralela. Pass para transformar información, el input es el output (útil para debug), Wait detiene la ejecución el tiempo indicado, ya sea relativo a ahora o una fecha en concreto.
        Succeed para terminar una ejecución de forma correcta. Fail termina la ejecución como fallida a no ser que usemos un Catch para el error.
        
    - AWS EC2
        DeleteOnTermination, controla si un volumen EBS se eliminará al terminar un instancia EC2. Para cambiar su estado si la instacia está en ejecución, se debe de usar la linea de comandos.
        DisableApiTermination permite controlar si se permite el terminar una instacia EC2 o no. 
        Si recibimos un timeout, problablemente haya un error con los grupos de seguridad.
        
    - AWS CDK (Cloud Development Kit)
        Despliegue de infra por código. Usa plantillas proporcionadas por el CDK. El crear la aplicación es opcional. Genera un stack y luego lo implementamos con nuestra cuenta.
        Cada aplicación debe de estar en su directorio y si tiene dependencias, incluirlas. Con cdk init inicializamos la app usando una plantilla y el lenguaje de programación.
        Al sintetizar el código, generamos una plantilla de CloudFormation. Con cdk deploy implementamos la plantilla que hemos generado de CloudFormation.
        Permite usar CONSTRUCTORS, que son partes de infrastructura predefinida por AWS con valores por defecto.
        
    - AWS CloudFormation
        Infrastructura como código. Permite definir Conditions que luego se usarán como condicionales para crear un recurso o no, no se puede asociar con Parameters, estos luegos se evaluarán usando Coditions.
        Existen varias secciones, Resources, Conditions, Outputs (para referenciar en otros stacks), Parameters
        
    - AWS ELB
        - ALB. Error 503 si no hay ningún objetivo diposnible. Existe el equilibrio de carga entre zonas y está activado por defecto. Trabaja en la 7 capa ISO. Antes de contestar peticiones, existe un periodo de calentamiento.
        - NLB (Network Load Balancer) Trabaja en la 4 capa ISO. Rendimiento de red para millones de conexiones.
        Existen las sticky sessions que permite enrutar peticiones a un mismo grupo de objetivo (atacar siempre al mismo servidor desde un usuarios). Esta cookie se llama AWSALB. Un CLB puede dirigir más tráfico a tipos de instancias con mayor capacidad, con ello se evita que instancias menores se ahoguen.
        
    - AWS RDS
        Incia automática el failover al standby (secundario) en caso de fallo del primario. Es decir, usar el nodo secundario si el primero falla. Las actualizaciones se aplican en el standby (secundario) y luego lo promociona a primario. Con Multi-AZ, la AZ ha actualizar, se apaga temporalmente y se trabaja con las activas. En Multi-AZ con las copias de seguridad automatizadas, no se supende la actividad E/S en el primario ya que estas se hacen del nodo secundario. Una instancia secundaria o en standby no permite usarse como lectura. La replicación de actualización en Multi-AZ se hacen de forma síncrona contra los secundarios.
        
    - AWS KMS
        Servicio para administrar claves de cifrado. Combina hardware y software seguro y de alta disponibilidad.
        SSL no cifra en reposo, cifra en tránsito.
        - SSE-C Cifrado del lado del servidor. Claves proporcionadas por el cliente.
        - SSE-S3. Cifrado del lado del servidor. Claves administradas por Amazon con rotación automática. Usa AES256
        - CMKs. Clave del cliente administradas en KMS

    - AWS EventBridge
        Servicio basado en eventos que permite integración con socios SaaS de terceros.
        
    - AWS SNS (Simple Notification Service)
        Permite filtrar y distribuir mensajes a un gran número de SUSCRIPTORES (Lambda, Queue y sistemas distribuidos) También permite enviar push notifications a móviles, SMS y Correos.
        
    - AWS SQS (Simple Queue Service)
        Sistema de colas con dos tipos. Standard (máximo rendimiento, orden de mejor esfuerza y al menos una entrega) y FIFO (first-in first-out y la entrega del mensaje está garantizada). Junto con SNS se puede crear un sistema de fan-out, es decir, enviar un mismo mensaje a varios suscriptores. Mensaje recibido por SQS, envíado a SNS y este notifica a todos.
        Permite el cifrado con SSE (cifrado del lador del servidor) usando claves administra de los dos tipos de colas.
        
    - AWS SES (Simple Email Service)
        Envío de correos de forma masiva.
        
    - AWS Kinesis
        - Kinesis Data Streams. Recopila y procesa stremas de registros en tiempo real y los almacena desde 24 horas hasta 1 año.

    - AWS Glue
        Servición de extracción, transformación y carga ETL administrador por AWS para preparar y cargar datos para analisis.